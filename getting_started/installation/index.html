
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="https://example.com/getting_started/installation/" rel="canonical"/>
<link href="../.." rel="prev"/>
<link href="../architecture/" rel="next"/>
<link href="../../img/pfdl_favicon.png" rel="icon"/>
<meta content="mkdocs-1.6.0, mkdocs-material-9.5.21" name="generator"/>
<title>Installation - Production Flow Description Language</title>
<link href="../../assets/stylesheets/main.66ac8b77.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<link href="../../assets/_mkdocstrings.css" rel="stylesheet"/>
<link href="../../stylesheets/extra.css" rel="stylesheet"/>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#installation">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Production Flow Description Language" class="md-header__button md-logo" data-md-component="logo" href="../.." title="Production Flow Description Language">
<img alt="logo" src="../../img/pfdl_favicon.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Production Flow Description Language
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Installation
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_0" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"></path></svg>
</label>
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="" data-md-color-primary="indigo" data-md-color-scheme="slate" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_0" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"></path></svg>
</label>
</form>
<script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<a aria-label="Share" class="md-search__icon md-icon" data-clipboard="" data-clipboard-text="" data-md-component="search-share" href="javascript:void(0)" tabindex="-1" title="Share">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"></path></svg>
</a>
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
<div class="md-search__suggest" data-md-component="search-suggest"></div>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/iml130/pfdl" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    iml130/pfdl
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../..">
        
  
    
  
  Home

      </a>
</li>
<li class="md-tabs__item md-tabs__item--active">
<a class="md-tabs__link" href="./">
          
  
  Getting Started

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../pfdl/introduction/">
          
  
  PFDL

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../scheduler/">
          
  
  Scheduler Reference

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../examples/introduction/">
          
  
  Examples

        </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Production Flow Description Language" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="Production Flow Description Language">
<img alt="logo" src="../../img/pfdl_favicon.png"/>
</a>
    Production Flow Description Language
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/iml130/pfdl" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    iml130/pfdl
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
<span class="md-ellipsis">
    Home
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
<span class="md-ellipsis">
    Getting Started
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    Installation
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    Installation
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#grammar">
<span class="md-ellipsis">
      Grammar
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#scheduler">
<span class="md-ellipsis">
      Scheduler
    </span>
</a>
<nav aria-label="Scheduler" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#requirements">
<span class="md-ellipsis">
      Requirements
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#run-the-validation">
<span class="md-ellipsis">
      Run the validation
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#run-the-scheduler">
<span class="md-ellipsis">
      Run the Scheduler
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#simple-example">
<span class="md-ellipsis">
      Simple Example
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecture/">
<span class="md-ellipsis">
    Architecture
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ci_cd/">
<span class="md-ellipsis">
    CI/CD
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../glossary/">
<span class="md-ellipsis">
    Glossary
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
<span class="md-ellipsis">
    PFDL
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            PFDL
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../pfdl/introduction/">
<span class="md-ellipsis">
    Introduction
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../pfdl/struct/">
<span class="md-ellipsis">
    Struct
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../pfdl/task/">
<span class="md-ellipsis">
    Task
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../pfdl/service/">
<span class="md-ellipsis">
    Service
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../pfdl/parallel/">
<span class="md-ellipsis">
    Parallel
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../pfdl/condition/">
<span class="md-ellipsis">
    Condition
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../pfdl/loop/">
<span class="md-ellipsis">
    Loop
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../pfdl/comments/">
<span class="md-ellipsis">
    Comments
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
<span class="md-ellipsis">
    Scheduler Reference
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            Scheduler Reference
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../scheduler/">
<span class="md-ellipsis">
    Introduction
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
<span class="md-ellipsis">
    Scheduler
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_2">
<span class="md-nav__icon md-icon"></span>
            Scheduler
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../scheduler/scheduler_class/">
<span class="md-ellipsis">
    Scheduler Class
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../scheduler/api/">
<span class="md-ellipsis">
    Scheduler API
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../scheduler/model_classes/">
<span class="md-ellipsis">
    Model classes
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../scheduler/dashboard/">
<span class="md-ellipsis">
    Dashboard API
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../scheduler/developer_reference/">
<span class="md-ellipsis">
    Developer Reference
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
<span class="md-ellipsis">
    Examples
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
            Examples
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../examples/introduction/">
<span class="md-ellipsis">
    Introduction
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../examples/task_input_and_output/">
<span class="md-ellipsis">
    Task input and output
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../examples/concurrency_and_synchronization/">
<span class="md-ellipsis">
    Concurrency and Synchronization
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../examples/control_structures/">
<span class="md-ellipsis">
    Control Structures
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#grammar">
<span class="md-ellipsis">
      Grammar
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#scheduler">
<span class="md-ellipsis">
      Scheduler
    </span>
</a>
<nav aria-label="Scheduler" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#requirements">
<span class="md-ellipsis">
      Requirements
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#run-the-validation">
<span class="md-ellipsis">
      Run the validation
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#run-the-scheduler">
<span class="md-ellipsis">
      Run the Scheduler
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#simple-example">
<span class="md-ellipsis">
      Simple Example
    </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<!--
SPDX-FileCopyrightText: The PFDL Contributors
SPDX-License-Identifier: MIT
-->
<style>
.figure{
    width: 70%;
    margin: 0 auto;
    padding: 0px;
}
.column {
  float: left;
  width: 50%;
  padding: 5px;
}

/* Clear floats after image containers */
.row::after {
  content: "";
  clear: both;
  display: table;
}
</style>
<h1 id="installation">Installation</h1>
<p>This guide will lead you through the installation.
Afterwards the scheduler will be tested with a simple PFDL file.
We expect you to have cloned the <a href="https://github.com/iml130/pfdl">official PFDL repository</a> while trying the steps below.</p>
<p>There are two ways to use the PFDL.
You can use the grammar only or use the Scheduler.
In the following we provide an installation guide for both cases.</p>
<h3 id="grammar">Grammar</h3>
<p>At first you need the ANTLR tool to generate the Lexer and Parser files from the ANTLR grammar specifications.
Check out the Quick Start guide on the <a href="https://www.antlr.org/index.html">official ANTLR site</a> to learn how to install ANTLR on your system (<strong>Note</strong>: we use ANTLR4, there is no support for ANTLR3).</p>
<p>To generate the files you can run the following command from the projects root directory:</p>
<div class="highlight"><pre><span></span><code>    antlr4 -Dlanguage=Python3 -visitor PFDLLexer.g4 PFDLParser.g4
</code></pre></div>
<p>This will generate the files from the PFDLLexer.g4 and PFDLParser.g4 specification files.
The -visitor argument makes sure that a Visitor class is generated too.
This will help to obtain the model after parsing.
The -Dlanguage argument specifies the code generation target language.
In our case python is used.</p>
<p>However, if you would like to use the PFDL grammar for your own purposes you can generate the files in a language of your choice too.
A list of all possible targets and download links can be found <a href="https://www.antlr.org/download.html">here</a>.</p>
<h3 id="scheduler">Scheduler</h3>
<p>The scheduler and especially the scheduler class can be used like every other python module.</p>
<h4 id="requirements">Requirements</h4>
<p>The following requirements are needed to run the scheduler:</p>
<ul>
<li>Pip packages from requirements.txt (<code>pip install -r requirements.txt</code>)</li>
<li><a href="https://graphviz.org/">GraphViz</a> (if you want to use the scheduler/run the scheduler_demo.py)</li>
</ul>
<p>Check if you correctly installed GraphViz (On Windows you need to put the path of the bin folder which is in the GraphViz folder into the PATH environment variable.
On Ubuntu it should be fine if you install it via apt or apt-get).
The installation process is not checked for macOS yet.
For troubleshooting on any OS visit the <a href="https://graphviz.org/download/">Download</a> section of the official GraphViz documentation.</p>
<h4 id="run-the-validation">Run the validation</h4>
<p>If you just want to validate your PFDL files run the following command from the root directory of the project.
All errors will be printed in the console, so if nothing is shown the file is valid.</p>
<div class="highlight"><pre><span></span><code>    python validate_pfdl_file.py &lt;path_to_pfdl_file&gt;
</code></pre></div>
<h4 id="run-the-scheduler">Run the Scheduler</h4>
<p>To make use of the scheduler you can import the scheduler class and use it like in the scheduler_demo.py.
We will provide a pip package for the scheduler module later so there is no need to clone the repo anymore.
If you want to run the scheduler from the command line, you can execute the scheduler_demo.py which is a small example program to demonstrate the use of the scheduler class.
Run the following command from the root directory of the project.</p>
<div class="highlight"><pre><span></span><code>    python scheduler_demo.py &lt;path_to_pfdl_file&gt;
</code></pre></div>
<p>It will parse the given file and validates it.
If the program is valid a petri net will be generated in the root directory.</p>
<h2 id="simple-example">Simple Example</h2>
<p>To test your installation you can run a simple PFDL file.
The demo file implements a DemoInterface which uses the Scheduler and serves as demonstration of how to use the Scheduler.
You can view the source code of the whole file here:</p>
<details class="quote">
<summary>View Source of <code>scheduler_demo.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">  1</span>
<span class="normal">  2</span>
<span class="normal">  3</span>
<span class="normal">  4</span>
<span class="normal">  5</span>
<span class="normal">  6</span>
<span class="normal">  7</span>
<span class="normal">  8</span>
<span class="normal">  9</span>
<span class="normal"> 10</span>
<span class="normal"> 11</span>
<span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="sd">"""This file contains an interface to demonstrate the use of the PFDL Scheduler."""</span>

<span class="c1"># standard libraries</span>
<span class="kn">import</span> <span class="nn">argparse</span>

<span class="c1"># local sources</span>
<span class="kn">from</span> <span class="nn">pfdl_scheduler.api.service_api</span> <span class="kn">import</span> <span class="n">ServiceAPI</span>
<span class="kn">from</span> <span class="nn">pfdl_scheduler.api.task_api</span> <span class="kn">import</span> <span class="n">TaskAPI</span>
<span class="kn">from</span> <span class="nn">pfdl_scheduler.model.struct</span> <span class="kn">import</span> <span class="n">Struct</span>
<span class="kn">from</span> <span class="nn">pfdl_scheduler.scheduler</span> <span class="kn">import</span> <span class="n">Scheduler</span><span class="p">,</span> <span class="n">Event</span>


<span class="k">class</span> <span class="nc">DemoInterface</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""A dummy interface which demonstrates the use of the scheduler functions.</span>

<span class="sd">    At start the interface register its callback functions and variable access function</span>
<span class="sd">    to the scheduler. The callback functions provide a simple debug message to show</span>
<span class="sd">    the functionality of the scheduler.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        scheduler: A Scheduler instance</span>
<span class="sd">        wetness: A dummy variable which is used in the PFDL examples</span>
<span class="sd">        parts_count: A dummy variable which is used in the PFDL examples</span>
<span class="sd">    """</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scheduler</span><span class="p">:</span> <span class="n">Scheduler</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""Initialize the object"""</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scheduler</span><span class="p">:</span> <span class="n">Scheduler</span> <span class="o">=</span> <span class="n">scheduler</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wetness</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">11</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parts_count</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span>

    <span class="k">def</span> <span class="nf">cb_task_started</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task_api</span><span class="p">:</span> <span class="n">TaskAPI</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">task_name</span> <span class="o">=</span> <span class="n">task_api</span><span class="o">.</span><span class="n">task</span><span class="o">.</span><span class="n">name</span>
        <span class="n">task_id</span> <span class="o">=</span> <span class="n">task_api</span><span class="o">.</span><span class="n">uuid</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"Task "</span> <span class="o">+</span> <span class="n">task_name</span> <span class="o">+</span> <span class="s2">" with UUID '"</span> <span class="o">+</span> <span class="n">task_id</span> <span class="o">+</span> <span class="s2">"' started"</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">cb_service_started</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_api</span><span class="p">:</span> <span class="n">ServiceAPI</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">service_name</span> <span class="o">=</span> <span class="n">service_api</span><span class="o">.</span><span class="n">service</span><span class="o">.</span><span class="n">name</span>
        <span class="n">service_id</span> <span class="o">=</span> <span class="n">service_api</span><span class="o">.</span><span class="n">uuid</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"Service "</span> <span class="o">+</span> <span class="n">service_name</span> <span class="o">+</span> <span class="s2">" with UUID '"</span> <span class="o">+</span> <span class="n">service_id</span> <span class="o">+</span> <span class="s2">"' started"</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">cb_service_finished</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_api</span><span class="p">:</span> <span class="n">ServiceAPI</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">service_name</span> <span class="o">=</span> <span class="n">service_api</span><span class="o">.</span><span class="n">service</span><span class="o">.</span><span class="n">name</span>
        <span class="n">service_id</span> <span class="o">=</span> <span class="n">service_api</span><span class="o">.</span><span class="n">uuid</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"Service "</span> <span class="o">+</span> <span class="n">service_name</span> <span class="o">+</span> <span class="s2">" with UUID '"</span> <span class="o">+</span> <span class="n">service_id</span> <span class="o">+</span> <span class="s2">"' finished"</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">cb_task_finished</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task_api</span><span class="p">:</span> <span class="n">TaskAPI</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">task_name</span> <span class="o">=</span> <span class="n">task_api</span><span class="o">.</span><span class="n">task</span><span class="o">.</span><span class="n">name</span>
        <span class="n">task_id</span> <span class="o">=</span> <span class="n">task_api</span><span class="o">.</span><span class="n">uuid</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"Task "</span> <span class="o">+</span> <span class="n">task_name</span> <span class="o">+</span> <span class="s2">" with UUID '"</span> <span class="o">+</span> <span class="n">task_id</span> <span class="o">+</span> <span class="s2">"' finished"</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">variable_access_function</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">var_name</span><span class="p">,</span> <span class="n">task_context</span><span class="p">:</span> <span class="n">TaskAPI</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Struct</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""Simulate a variable access function which returns a Struct variable.</span>

<span class="sd">        This dummy method simulates an access to variables from the PFDL. The returned structs</span>
<span class="sd">        are used in the examples folder.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A struct variable corresponding to the given variable name in the given task context.</span>
<span class="sd">        """</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"Request variable '"</span> <span class="o">+</span> <span class="n">var_name</span> <span class="o">+</span> <span class="s2">"' from task with UUID '"</span> <span class="o">+</span> <span class="n">task_context</span><span class="o">.</span><span class="n">uuid</span> <span class="o">+</span> <span class="s2">"'"</span><span class="p">)</span>
        <span class="n">dummy_struct</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">var_name</span> <span class="o">==</span> <span class="s2">"pr"</span> <span class="ow">or</span> <span class="n">var_name</span> <span class="o">==</span> <span class="s2">"dr"</span><span class="p">:</span>
            <span class="n">dummy_struct</span><span class="o">.</span><span class="n">attributes</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"wetness"</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">wetness</span><span class="p">}</span>
        <span class="k">elif</span> <span class="n">var_name</span> <span class="o">==</span> <span class="s2">"cr"</span><span class="p">:</span>
            <span class="n">dummy_struct</span><span class="o">.</span><span class="n">attributes</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"parts_count"</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">parts_count</span><span class="p">}</span>
        <span class="k">return</span> <span class="n">dummy_struct</span>

    <span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scheduler</span><span class="o">.</span><span class="n">register_callback_task_started</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cb_task_started</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scheduler</span><span class="o">.</span><span class="n">register_callback_service_started</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cb_service_started</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scheduler</span><span class="o">.</span><span class="n">register_callback_service_finished</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cb_service_finished</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scheduler</span><span class="o">.</span><span class="n">register_callback_task_finished</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cb_task_finished</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scheduler</span><span class="o">.</span><span class="n">register_variable_access_function</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_access_function</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scheduler</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">scheduler</span><span class="o">.</span><span class="n">running</span><span class="p">:</span>
            <span class="n">input_str</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">"Wait for input:&gt;"</span><span class="p">))</span>
            <span class="n">splitted</span> <span class="o">=</span> <span class="n">input_str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">","</span><span class="p">)</span>
            <span class="n">service_id</span> <span class="o">=</span> <span class="n">splitted</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">event_type</span> <span class="o">=</span> <span class="n">splitted</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

            <span class="n">event</span> <span class="o">=</span> <span class="n">Event</span><span class="p">(</span><span class="n">event_type</span><span class="o">=</span><span class="n">event_type</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">"service_id"</span><span class="p">:</span> <span class="n">service_id</span><span class="p">})</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scheduler</span><span class="o">.</span><span class="n">fire_event</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">"Process some integers."</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">"file_path"</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">"the path for the PFDL file."</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">"--test_ids"</span><span class="p">,</span>
        <span class="n">action</span><span class="o">=</span><span class="s2">"store_true"</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">"services and tasks get test ids starting from 0."</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>
    <span class="n">scheduler</span> <span class="o">=</span> <span class="n">Scheduler</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">file_path</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">test_ids</span><span class="p">)</span>
    <span class="n">demo_interface</span> <span class="o">=</span> <span class="n">DemoInterface</span><span class="p">(</span><span class="n">scheduler</span><span class="p">)</span>
    <span class="n">demo_interface</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">"__main__"</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
</details>
<p>Within the scheduler_demo.py file the Scheduler is created and started with the given PFDL file.
The start method of the interface registers the callback functions to the Scheduler so they are called when specific events occur.
After the registration the scheduler is started and then executed in a while loop.
In this loop an input to the Scheduler is emulated with the help of Python's input function.
The given event of the user is then fired to the Scheduler.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">scheduler</span><span class="o">.</span><span class="n">register_callback_task_started</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cb_task_started</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">scheduler</span><span class="o">.</span><span class="n">register_callback_service_started</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cb_service_started</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">scheduler</span><span class="o">.</span><span class="n">register_callback_service_finished</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cb_service_finished</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">scheduler</span><span class="o">.</span><span class="n">register_callback_task_finished</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cb_task_finished</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">scheduler</span><span class="o">.</span><span class="n">register_variable_access_function</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_access_function</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">scheduler</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

    <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">scheduler</span><span class="o">.</span><span class="n">running</span><span class="p">:</span>
        <span class="n">input_str</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">"Wait for input:&gt;"</span><span class="p">))</span>
        <span class="n">splitted</span> <span class="o">=</span> <span class="n">input_str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">","</span><span class="p">)</span>
        <span class="n">service_id</span> <span class="o">=</span> <span class="n">splitted</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">event_type</span> <span class="o">=</span> <span class="n">splitted</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

        <span class="n">event</span> <span class="o">=</span> <span class="n">Event</span><span class="p">(</span><span class="n">event_type</span><span class="o">=</span><span class="n">event_type</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">"service_id"</span><span class="p">:</span> <span class="n">service_id</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scheduler</span><span class="o">.</span><span class="n">fire_event</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<p>There are four methods which serve as callback functions for the scheduler.
The <code>cb_task_started</code> method for example gets called when a Task is started in the Scheduler.
A <a href="../../scheduler/api/#pfdl_scheduler.api.task_api.TaskAPI">TaskAPI</a> object is passed to the function which gives context information about the started Task.
In this simple example the UUID of the started Task and its name are being printed to the console.
The UUID gets created when the Task is started and identifies the specific instance of the Task.
If the same <a href="../../scheduler/developer_reference/#pfdl_scheduler.model.task">Task</a> is called multiple times, for example in a loop, each instance get a unique ID for identification.
The TaskAPI object consists of the called Task (or: Task definition), the unique ID and the TaskContext which is also a TaskAPI object.
This TaskContext represents the calling Task (can also be none, if the TaskAPI object describes the <code>productionTask</code>).</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="hll"><span class="k">def</span> <span class="nf">cb_task_started</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task_api</span><span class="p">:</span> <span class="n">TaskAPI</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span class="hll">    <span class="n">task_name</span> <span class="o">=</span> <span class="n">task_api</span><span class="o">.</span><span class="n">task</span><span class="o">.</span><span class="n">name</span>
</span><span class="hll">    <span class="n">task_id</span> <span class="o">=</span> <span class="n">task_api</span><span class="o">.</span><span class="n">uuid</span>
</span><span class="hll">    <span class="nb">print</span><span class="p">(</span><span class="s2">"Task "</span> <span class="o">+</span> <span class="n">task_name</span> <span class="o">+</span> <span class="s2">" with UUID '"</span> <span class="o">+</span> <span class="n">task_id</span> <span class="o">+</span> <span class="s2">"' started"</span><span class="p">)</span>
</span>
<span class="k">def</span> <span class="nf">cb_service_started</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_api</span><span class="p">:</span> <span class="n">ServiceAPI</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">service_name</span> <span class="o">=</span> <span class="n">service_api</span><span class="o">.</span><span class="n">service</span><span class="o">.</span><span class="n">name</span>
    <span class="n">service_id</span> <span class="o">=</span> <span class="n">service_api</span><span class="o">.</span><span class="n">uuid</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Service "</span> <span class="o">+</span> <span class="n">service_name</span> <span class="o">+</span> <span class="s2">" with UUID '"</span> <span class="o">+</span> <span class="n">service_id</span> <span class="o">+</span> <span class="s2">"' started"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">cb_service_finished</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_api</span><span class="p">:</span> <span class="n">ServiceAPI</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">service_name</span> <span class="o">=</span> <span class="n">service_api</span><span class="o">.</span><span class="n">service</span><span class="o">.</span><span class="n">name</span>
    <span class="n">service_id</span> <span class="o">=</span> <span class="n">service_api</span><span class="o">.</span><span class="n">uuid</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Service "</span> <span class="o">+</span> <span class="n">service_name</span> <span class="o">+</span> <span class="s2">" with UUID '"</span> <span class="o">+</span> <span class="n">service_id</span> <span class="o">+</span> <span class="s2">"' finished"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">cb_task_finished</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task_api</span><span class="p">:</span> <span class="n">TaskAPI</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">task_name</span> <span class="o">=</span> <span class="n">task_api</span><span class="o">.</span><span class="n">task</span><span class="o">.</span><span class="n">name</span>
    <span class="n">task_id</span> <span class="o">=</span> <span class="n">task_api</span><span class="o">.</span><span class="n">uuid</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Task "</span> <span class="o">+</span> <span class="n">task_name</span> <span class="o">+</span> <span class="s2">" with UUID '"</span> <span class="o">+</span> <span class="n">task_id</span> <span class="o">+</span> <span class="s2">"' finished"</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<p>The <code>variable_access_function</code> emulates the variable management of a real system.
As you can see in this dummy function a Struct is created which is filled with a fixed value depending on the requested variable name.
To test the PFDl example files the function creates Struct with reasonable values if the variable names are <code>pr</code>, <code>dr</code> or <code>cr</code> which are all used in the example files.
A real variable access function would look up the variable name in some kind of storage / memory and return the real value of it.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">variable_access_function</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">var_name</span><span class="p">,</span> <span class="n">task_context</span><span class="p">:</span> <span class="n">TaskAPI</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Struct</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""Simulate a variable access function which returns a Struct variable.</span>

<span class="sd">    This dummy method simulates an access to variables from the PFDL. The returned structs</span>
<span class="sd">    are used in the examples folder.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A struct variable corresponding to the given variable name in the given task context.</span>
<span class="sd">    """</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Request variable '"</span> <span class="o">+</span> <span class="n">var_name</span> <span class="o">+</span> <span class="s2">"' from task with UUID '"</span> <span class="o">+</span> <span class="n">task_context</span><span class="o">.</span><span class="n">uuid</span> <span class="o">+</span> <span class="s2">"'"</span><span class="p">)</span>
<span class="hll">    <span class="n">dummy_struct</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">()</span>
</span><span class="hll">
</span><span class="hll">    <span class="k">if</span> <span class="n">var_name</span> <span class="o">==</span> <span class="s2">"pr"</span> <span class="ow">or</span> <span class="n">var_name</span> <span class="o">==</span> <span class="s2">"dr"</span><span class="p">:</span>
</span><span class="hll">        <span class="n">dummy_struct</span><span class="o">.</span><span class="n">attributes</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"wetness"</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">wetness</span><span class="p">}</span>
</span><span class="hll">    <span class="k">elif</span> <span class="n">var_name</span> <span class="o">==</span> <span class="s2">"cr"</span><span class="p">:</span>
</span><span class="hll">        <span class="n">dummy_struct</span><span class="o">.</span><span class="n">attributes</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"parts_count"</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">parts_count</span><span class="p">}</span>
</span><span class="hll">    <span class="k">return</span> <span class="n">dummy_struct</span>
</span></code></pre></div></td></tr></table></div>
<p>Now it is time to test the DemoInterface.
Before you start the Scheduler we explain in short the used PFDL file.
In this simple scenario there is only the service <code>Painting</code>.
This service could command a painting machine to paint the piece that is currently on it.
To customize the painting process a <code>Color</code> parameter is passed to the service.
The Struct <code>Color</code>, which is used as a description for Color variables, consists of the color name and a RGB value in form of an array.
As the painting machine can measure the wetness of the piece, the service will return a <code>PaintResult</code> which contains the wetness.
The whole production order starts with the <code>productionTask</code> and so from it the Task <code>paintingTask</code> is called which executes the <code>Painting</code> service.
The example PFDL file looks like the following:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span></pre></div></td><td class="code"><div><pre><span></span><code>Struct Color
    name: string
    rgb: number[3]
End

Struct PaintResult
    wetness: number
End

Task productionTask
    paintingTask
End

Task paintingTask
    Painting
        In
            Color 
            {
                "name": "green",
                "rgb": [0, 255, 0]
            }
        Out
            pr: PaintResult
End
</code></pre></div></td></tr></table></div>
<p>Run the following command to start the scheduler_demo.py file with the simple PFDL example:</p>
<div class="highlight"><pre><span></span><code>    python scheduler_demo.py examples/simple_task.pfdl
</code></pre></div>
<p>Now that the scheduler is started a png file with the name "petri_net.png" should have appeared in the temp folder of the project (if there is no temp folder, one will be created).
This file shows the generated Petri net for the PFDL file.
A token should be in the <code>Painting started</code> place.</p>
<p>The demo waits for user input.
As it is for testing purposes only, the syntax for firing an event is simplified.
You can copy the UUID of the started service and seperate it with a comma and write <code>service_finished</code>.
This will tell the scheduler that the service with the given UUID is finished.
Substitute the UUID with the one of the service and enter the command.</p>
<div class="highlight"><pre><span></span><code>    &lt;uuid of the service&gt;,service_finished
</code></pre></div>
<p>After entering this command the token should be in the last place of the petri net as the service has finished now and no other statement is inside the <code>paintingTask</code>.
If the scheduler_demo terminates after the command and the token is in the <code>productionTask_finished</code> place everything works like it should.</p>
<p>Both states of the petri net are depicted in Figure 1.
On the left you can see the initial petri net after the scheduling starts.
A token is set on the <code>Painting started</code> place.
The petri net on the right shows the state after the service is finished.</p>
<div class="figure">
<div class="row">
<div class="column">
<img alt="Initial Petri Net for the Simple Task example" src="../../img/petri_net_1.png#only-light">
<img alt="Initial Petri Net for the Simple Task example" src="../../img/petri_net_1_dark.png#only-dark">
</img></img></div>
<div class="column">
<img alt="Initial Petri Net for the Simple Task example" src="../../img/petri_net_2.png#only-light"/>
<img alt="Initial Petri Net for the Simple Task example" src="../../img/petri_net_2_dark.png#only-dark"/>
</div>
<br/><br/>
<b>Fig.1:</b> On the left you can see the initial petri net after the scheduling starts.
A token is set on the Painting started place.
The petri net on the right shows the state after the service is finished
<br/><br/>
</div>
</div>
<p>If everything looks as described you have succesfully run your first PFDL file with the Scheduler!
You can now work on your own PFDL files or start integrating the Scheduler into your projects.
For advanced examples visit the <a href="../../examples/introduction/">Examples</a> section.</p>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
<button class="md-top md-icon" data-md-component="top" hidden="" type="button">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"></path></svg>
  Back to top
</button>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
<div class="md-copyright__highlight">
      Copyright  The PFDL Contributors
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
<div class="md-social">
<a class="md-social__link" href="https://github.com/iml130/pfdl" rel="noopener" target="_blank" title="PFDL on Github">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate", "content.tooltips", "navigation.instant", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
<script src="../../assets/javascripts/bundle.a7c05c9e.min.js"></script>
<script>document$.subscribe(() => {
            window.update_swagger_ui_iframe_height = function (id) {
                var iFrameID = document.getElementById(id);
                if (iFrameID) {
                    full_height = (iFrameID.contentWindow.document.body.scrollHeight + 80) + "px";
                    iFrameID.height = full_height;
                    iFrameID.style.height = full_height;
                }
            }
        
            let iframe_id_list = []
            var iframes = document.getElementsByClassName("swagger-ui-iframe");
            for (var i = 0; i < iframes.length; i++) { 
                iframe_id_list.push(iframes[i].getAttribute("id"))
            }
        
            let ticking = true;
            
            document.addEventListener('scroll', function(e) {
                if (!ticking) {
                    window.requestAnimationFrame(()=> {
                        let half_vh = window.innerHeight/2;
                        for(var i = 0; i < iframe_id_list.length; i++) {
                            let element = document.getElementById(iframe_id_list[i])
                            if(element==null){
                                return
                            }
                            let diff = element.getBoundingClientRect().top
                            if(element.contentWindow.update_top_val){
                                element.contentWindow.update_top_val(half_vh - diff)
                            }
                        }
                        ticking = false;
                    });
                    ticking = true;
                }
            });
        
            const dark_scheme_name = "slate"
            
            window.scheme = document.body.getAttribute("data-md-color-scheme")
            const options = {
                attributeFilter: ['data-md-color-scheme'],
            };
            function color_scheme_callback(mutations) {
                for (let mutation of mutations) {
                    if (mutation.attributeName === "data-md-color-scheme") {
                        scheme = document.body.getAttribute("data-md-color-scheme")
                        var iframe_list = document.getElementsByClassName("swagger-ui-iframe")
                        for(var i = 0; i < iframe_list.length; i++) {
                            var ele = iframe_list.item(i);
                            if (ele) {
                                if (scheme === dark_scheme_name) {
                                    ele.contentWindow.enable_dark_mode();
                                } else {
                                    ele.contentWindow.disable_dark_mode();
                                }
                            }
                        }
                    }
                }
            }
            observer = new MutationObserver(color_scheme_callback);
            observer.observe(document.body, options);
            })</script></body>
</html>